<main th:fragment="content" class="d-flex align-items-center justify-content-center min-vh-100 bg-light">
  <div class="container shadow-sm">
    <div class="row shadow-sm rounded overflow-hidden">

      <!-- Formulaire d'inscription -->
      <div class="col-md-6 bg-white p-5 d-flex flex-column justify-content-center">
        <form method="post" th:object="${registerDTO}" th:action="@{/auth/register}" novalidate>
          <h1 class="text-center mb-4 fw-bold">Bienvenue à Ulevite Academy !</h1>
          <h4 class="mb-4 text-secondary text-center">S'inscrire</h4>

          <!-- Nom d'utilisateur -->
          <div class="mb-3">
            <label for="username" class="form-label">Nom d'utilisateur</label>
            <input type="text" id="username" name="username" placeholder="Nom utilisateur"
                   class="form-control" 
                   th:classappend="${#fields.hasErrors('username')} ? 'is-invalid' : ''"
                   th:value="*{username}" required />
            <div class="invalid-feedback" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></div>
          </div>

          <!-- Email -->
          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" id="email" name="email" placeholder="ex: jean.dupont@email.com"
                   class="form-control" 
                   th:classappend="${#fields.hasErrors('email')} ? 'is-invalid' : ''"
                   th:value="*{email}" required />
            <div class="invalid-feedback" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
          </div>

          <!-- Mot de passe -->
          <div class="mb-3">
            <label for="password" class="form-label">Mot de passe</label>
            <input type="password" id="password" name="password" placeholder="12 caractères minimum"
                   class="form-control" 
                   th:classappend="${#fields.hasErrors('password')} ? 'is-invalid' : ''"
                   th:value="*{password}" required />
            <div class="invalid-feedback" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>
          </div>

          <!-- Confirmation mot de passe -->
          <div class="mb-3">
            <label for="confirmPassword" class="form-label">Confirmer le mot de passe</label>
            <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirmation mot de passe"
                   class="form-control" 
                   th:classappend="${#fields.hasErrors('confirmPassword')} ? 'is-invalid' : ''"
                   th:value="*{confirmPassword}" required />
            <div class="invalid-feedback" th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}"></div>
          </div>

          <!-- Message de succès -->
          <div th:if="${success}" class="alert alert-success" role="alert" th:text="${success}"></div>

          <!-- Conditions -->
          <p class="small mb-3">
            En vous inscrivant, vous acceptez les 
            <a th:href="@{/conditions-utilisation}">conditions générales d'utilisation</a>.
          </p>

          <!-- Bouton -->
          <div class="d-grid mb-3">
            <button type="submit" class="btn submit-btn btn-lg">
              <i class="fa fa-save me-2"></i>
              Créer mon compte</button>
          </div>

          <p class="text-center small">
            Vous avez déjà un compte ? 
            <a th:href="@{/auth/login}">Connectez-vous</a>
          </p>
        </form>
      </div>

      <!-- Partie image -->
      <div class="col-md-6 d-none d-md-block p-0">
        <img src="/images/inscription-picture.png" alt="Illustration learning" class="img-fluid h-100 w-100 object-fit-cover" />
      </div>

    </div>
  </div>
</main>
